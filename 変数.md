# 変数

## URL

```python
# 共通部
url_zukan = 'https://yakkun.com/swsh/zukan/'
# 各ポケモンURL
url_poke = url_zukan + list_poke.find('a')['href'].replace('/swsh/zukan/', '')
# 'https://yakkun.com/swsh/zukan/n810'
url_https = 'https'
# ポケモンアイコン
url_img_poke = url_https + data_poke.find('img')['src']
# 'https://sp1.raky.net/poke/icon96/n810.gif'
# タイプ(アイコン)  ※タイプアイコンはライブラリから取得
url_img_type_poke = url_https + data_poke.find_all('tr', attrs={'class': 'center'})[5].find_all('img')[0]['src']
# 'https://sp1.raky.net/poke/xy_type/n11.gif'
```

## res

```python
res_zukan = requests.get(url_zukan)
res_poke = requests.get(url_poke)
res_img_poke = requests.get(url_img_poke)
```

## soup

```python
soup_zukan = BeautifulSoup(res_zukan.content, 'html.parser')
soup_poke = BeautifulSoup(res_poke.content, 'html.parser')
```

## リスト

### ポケモン名/図鑑No./アイコン/URL末尾

```python
lists_poke = soup_zukan.find_all('ul', attrs={'class': 'pokemon_list'})[0]
```

#### 項目

```python
list_poke = lists_poke[0]
# <li data-galar-no="1" data-id="960" data-kanmuri-no="0" data-no="810" data-yoroi-no="0"><span class="index">001: </span><a href="/swsh/zukan/n810"><i class="icon32_sp n810"></i>サルノリ</a></li>
list_poke.find('span').extract()
list_poke
# <li data-galar-no="1" data-id="960" data-kanmuri-no="0" data-no="810" data-yoroi-no="0"><a href="/swsh/zukan/n810"><i class="icon32_sp n810"></i>サルノリ</a></li>

# ポケモン名
name_poke = list_poke.text
# 'サルノリ'

# 図鑑 No.
n_zukan_zenkoku_poke = int(list_poke['data-no'])
# 810

# URL末尾
list_poke.find('a')['href'].replace('/swsh/zukan/', '')
# 'n810'
```

## 各ポケモンデータ

```python
# 共通部(基本データ)
data_poke = soup_poke.find('table', attrs={'summary': '基本データ'})
# <table style="width:200px;" summary="基本データ">
# <tr class="head"><th colspan="2" style="font-size:20px;line-height:1.2em; background: url('//sp1.raky.net/poke/icon32/n810.gif') no-repeat 4px -3px;">サルノリ</th></tr>
# ...
# <a href="./n812">ゴリランダー</a><br/>⇒Lv.35で『バチンキー』から進化</li></ul></td></tr>
# </table>

# 共通部2(詳細データ)
data2_poke = soup_poke.find('table', attrs={'class': 'center'})
# <table class="center" style="width:360px;" summary="詳細データ">
# <tr><th class="left" colspan="6"><a href="#" id="race" name="race" onclick="helpZukan(event,'race');return false;
# ...
# 技『じしん』『じならし』『マグニチュード』の受けるダメージが半減する)</td></tr>
# </table>

# ポケモン(画像)
img_poke = Image.open(io.BytesIO(requests.get(url_img_poke).content))
# 画像の保存
img_poke.save(f'poke/img/poke/{name_poke}.gif')

# 高さ
height_poke = data_poke.find_all('tr', attrs={'class': 'center'})[3].find_all('td')[1].text
# '0.3m'

# 重さ
weight_poke = data_poke.find_all('tr', attrs={'class': 'center'})[4].find_all('td')[1].text.split('けたぐり')[0]
# '5.0kg'

# タイプ(アイコン)  ※タイプアイコンはライブラリから取得, saveは後で
img_type_poke = Image.open(io.BytesIO(requests.get(url_img_type_poke).content))
# タイプ(文字)
# [i]の部分がポケモンによっては[0][1]の2要素存在
types_poke = []
for i in range(len(data_poke.find_all('tr', attrs={'class': 'center'})[5].find_all('img'))):
    types_poke.append(data_poke.find_all('tr', attrs={'class': 'center'})[5].find_all('img')[i]['alt'])
# ['くさ']

# 英語名
engName_poke = data_poke.find_all('tr', attrs={'class': 'center'})[6].li.text
# 'Grookey'

# weak/strong
# [0]の部分が場合によっては4倍〜0.25倍に変化
advs_poke = []
disAdvs_poke = []
# -----参考-----
# data_poke.find_all('ul', attrs={'class': 'type'})[1].find_all('li')[0]
# <li><a href="/swsh/zukan/search/?type=9"><img alt="ほのお" src="//sp1.raky.net/poke/xy_type/n9.gif" style="margin-bottom:-1px"/></a><img alt="2倍" src="//img.yakkun.com/bar.gif" style="width:40px;height:10px;margin:0 5px"/>×2</li>
# -----
for i in range(len(data_poke.find_all('ul', attrs={'class': 'type'})[1].find_all('li'))):  # 要素の数だけ関数を実行
    if float(data_poke.find_all('ul', attrs={'class': 'type'})[1].find_all('li')[i].find_all('img')[1]['alt'].replace('倍', '')) >= 1.0:
        advs_poke.append(data_poke.find_all('ul', attrs={'class': 'type'})[1].find_all('li')[i].find_all('img')[0]['alt'])
    elif float(data_poke.find_all('ul', attrs={'class': 'type'})[1].find_all('li')[i].find_all('img')[1]['alt'].replace('倍', '')) < 1.0:
        disAdvs_poke.append(data_poke.find_all('ul', attrs={'class': 'type'})[1].find_all('li')[i].find_all('img')[0]['alt'])

advs_poke
# ['ほのお', 'むし', 'どく', 'ひこう', 'こおり']
disAdvs_poke
# ['じめん', 'でんき', 'くさ', 'みず']

# 進化リスト
lists_names_evo_poke = []
# data_poke.find('ul', attrs={'class': 'evo_list'}).find_all('img')[0]['alt']
# ※[0]の部分はポケモンの進化系統図によって異なる
# 'サルノリ'
for i in range(len(data_poke.find('ul', attrs={'class': 'evo_list'}).find_all('img'))):
    lists_names_evo_poke.append(data_poke.find('ul', attrs={'class': 'evo_list'}).find_all('img')[i]['alt'])

lists_names_evo_poke
# ['サルノリ', 'バチンキー', 'ゴリランダー']

# 種族値
stats_base_poke = []
# [H, A, B, C, D, S, Ave., Tot.]
for i in range(6):
    stats_base_poke.append(int(data2_poke.find_all('td')[2 * i + 1].text.lstrip()))

stats_base_poke.append(float(data2_poke.find_all('td')[13].text.split('\xa0')[1]))
stats_base_poke.append(int(data2_poke.find_all('td')[13].text.split('\xa0')[3]))
# stats_base_poke
[50, 65, 50, 40, 40, 65, 51.7, 310]

# 実数値
# [max, semi-max, intact, semi-min, min]
stats_h_poke = []
stats_a_poke = []
stats_b_poke = []
stats_c_poke = []
stats_d_poke = []
stats_s_poke = []

for i in range(5):
    stats_h_poke.append(int(data2_poke.find_all('td')[15 + i].text))
    stats_a_poke.append(int(data2_poke.find_all('td')[21 + i].text))
    stats_b_poke.append(int(data2_poke.find_all('td')[27 + i].text))
    stats_c_poke.append(int(data2_poke.find_all('td')[33 + i].text))
    stats_d_poke.append(int(data2_poke.find_all('td')[39 + i].text))
    stats_s_poke.append(int(data2_poke.find_all('td')[45 + i].text))

# stats_h_poke
# [157, 157, 125, 125, 110]

# 性別割合
rate_sex_poke = data2_poke.find_all('td')[75].text.replace('\xa0', ' ')
# '♂:87.5% / ♀:12.5%'

# タマゴグループ
eggGroup_poke = data2_poke.find_all('td')[79].text.replace('\xa0', ' ')
# '陸上 / 植物'


# -----中断-----
# 特性
# data2_poke.find_all('td', attrs={'class': 'c1'})[28].text
# 'しんりょく'

# 夢特性
# data2_poke.find_all('td', attrs={'class': 'c1'})[29].text
# '*グラスメイカー'
```